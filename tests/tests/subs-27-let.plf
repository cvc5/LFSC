(declare term type)
(declare holds (! t term type))
(declare trust (! f term (holds f)))

(declare true term)
(declare false term)
(declare apply (! t1 term (! t2 term term)))
(declare f_and term)
(define and (# t1 term (# t2 term (apply (apply f_and t1) t2))))

(program sc_substitute ((t term) (s term) (r term)) term
  (match t
    ((apply t1 t2) (apply (sc_substitute t1 s r) (sc_substitute t2 s r)))
    (default (ifequal t s r t))
  ))

(define __t27
(@ __t1 (and true true)
(@ __t2 (and __t1 __t1)
(@ __t3 (and __t2 __t2)
(@ __t4 (and __t3 __t3)
(@ __t5 (and __t4 __t4)
(@ __t6 (and __t5 __t5)
(@ __t7 (and __t6 __t6)
(@ __t8 (and __t7 __t7)
(@ __t9 (and __t8 __t8)
(@ __t10 (and __t9 __t9)
(@ __t11 (and __t10 __t10)
(@ __t12 (and __t11 __t11)
(@ __t13 (and __t12 __t12)
(@ __t14 (and __t13 __t13)
(@ __t15 (and __t14 __t14)
(@ __t16 (and __t15 __t15)
(@ __t17 (and __t16 __t16)
(@ __t18 (and __t17 __t17)
(@ __t19 (and __t18 __t18)
(@ __t20 (and __t19 __t19)
(@ __t21 (and __t20 __t20)
(@ __t22 (and __t21 __t21)
(@ __t23 (and __t22 __t22)
(@ __t24 (and __t23 __t23)
(@ __t25 (and __t24 __t24)
(@ __t26 (and __t25 __t25)
(and __t26 __t26))))))))))))))))))))))))))))

(define __t27f
(@ __t1 (and false false)
(@ __t2 (and __t1 __t1)
(@ __t3 (and __t2 __t2)
(@ __t4 (and __t3 __t3)
(@ __t5 (and __t4 __t4)
(@ __t6 (and __t5 __t5)
(@ __t7 (and __t6 __t6)
(@ __t8 (and __t7 __t7)
(@ __t9 (and __t8 __t8)
(@ __t10 (and __t9 __t9)
(@ __t11 (and __t10 __t10)
(@ __t12 (and __t11 __t11)
(@ __t13 (and __t12 __t12)
(@ __t14 (and __t13 __t13)
(@ __t15 (and __t14 __t14)
(@ __t16 (and __t15 __t15)
(@ __t17 (and __t16 __t16)
(@ __t18 (and __t17 __t17)
(@ __t19 (and __t18 __t18)
(@ __t20 (and __t19 __t19)
(@ __t21 (and __t20 __t20)
(@ __t22 (and __t21 __t21)
(@ __t23 (and __t22 __t22)
(@ __t24 (and __t23 __t23)
(@ __t25 (and __t24 __t24)
(@ __t26 (and __t25 __t25)
(and __t26 __t26))))))))))))))))))))))))))))

(declare rule-subs (! t term (! u term (! s term (! r term (! f (holds t) (! sc (^ (sc_substitute t s r) u) (holds u))))))))

(declare large_assump (holds __t27))

(check (: (holds __t27f) (rule-subs _ _ true false large_assump)))
